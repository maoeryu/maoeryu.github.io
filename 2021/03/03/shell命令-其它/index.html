<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"maoeryu.github.io","root":"/","images":"/images","scheme":"Pisces","version":"8.2.1","exturl":false,"sidebar":{"position":"left","width":200,"display":"post","padding":7,"offset":5},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}};
  </script>
<meta name="description" content="linux移动光标ctrl+a 光标快速移动到行首ctrl+e 同上,行尾ctrl+k 删除至行尾 Esc b 左移一个单词Esc f 右移一个单词">
<meta property="og:type" content="article">
<meta property="og:title" content="shell命令-其它">
<meta property="og:url" content="https://maoeryu.github.io/2021/03/03/shell%E5%91%BD%E4%BB%A4-%E5%85%B6%E5%AE%83/index.html">
<meta property="og:site_name" content="FlyingPig">
<meta property="og:description" content="linux移动光标ctrl+a 光标快速移动到行首ctrl+e 同上,行尾ctrl+k 删除至行尾 Esc b 左移一个单词Esc f 右移一个单词">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://maoeryu.github.io/images/localtime1.png">
<meta property="og:image" content="https://maoeryu.github.io/images/localtime2.png">
<meta property="article:published_time" content="2021-03-02T16:00:00.000Z">
<meta property="article:modified_time" content="2022-09-14T03:18:51.343Z">
<meta property="article:author" content="maoeryu">
<meta property="article:tag" content="linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://maoeryu.github.io/images/localtime1.png">


<link rel="canonical" href="https://maoeryu.github.io/2021/03/03/shell%E5%91%BD%E4%BB%A4-%E5%85%B6%E5%AE%83/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>
<title>shell命令-其它 | FlyingPig</title>
  




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">FlyingPig</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#linux%E7%A7%BB%E5%8A%A8%E5%85%89%E6%A0%87"><span class="nav-number">1.</span> <span class="nav-text">linux移动光标</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#date"><span class="nav-number">2.</span> <span class="nav-text">date</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4"><span class="nav-number">2.1.</span> <span class="nav-text">修改系统时间</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#centos%E4%BF%AE%E6%94%B9%E6%97%B6%E5%8C%BA"><span class="nav-number">2.2.</span> <span class="nav-text">centos修改时区</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#screen"><span class="nav-number">3.</span> <span class="nav-text">screen</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#shutdown"><span class="nav-number">4.</span> <span class="nav-text">shutdown</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sort"><span class="nav-number">5.</span> <span class="nav-text">sort</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jstack"><span class="nav-number">6.</span> <span class="nav-text">jstack</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#netstat"><span class="nav-number">7.</span> <span class="nav-text">netstat</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#hostname"><span class="nav-number">8.</span> <span class="nav-text">hostname</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#adduser"><span class="nav-number">9.</span> <span class="nav-text">adduser</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vim"><span class="nav-number">10.</span> <span class="nav-text">vim</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#if%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">11.</span> <span class="nav-text">if表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B4%E6%95%B0%E5%8F%98%E9%87%8F%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">11.1.</span> <span class="nav-text">整数变量表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%98%E9%87%8F%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">11.2.</span> <span class="nav-text">字符串变量表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">11.3.</span> <span class="nav-text">文件表达式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#regex"><span class="nav-number">12.</span> <span class="nav-text">regex</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#example"><span class="nav-number">12.1.</span> <span class="nav-text">example</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%99%AE%E9%80%9A%E5%AD%97%E7%AC%A6"><span class="nav-number">12.2.</span> <span class="nav-text">普通字符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6"><span class="nav-number">12.3.</span> <span class="nav-text">转义字符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E7%A7%8D%E5%AD%97%E7%AC%A6"><span class="nav-number">12.4.</span> <span class="nav-text">多种字符</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#uname"><span class="nav-number">13.</span> <span class="nav-text">uname</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#linus-http%E5%86%85%E6%A0%B8%E4%BC%98%E5%8C%96"><span class="nav-number">14.</span> <span class="nav-text">linus http内核优化</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">maoeryu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">221</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">50</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://maoeryu.github.io/2021/03/03/shell%E5%91%BD%E4%BB%A4-%E5%85%B6%E5%AE%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="maoeryu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FlyingPig">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          shell命令-其它
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-03-03 00:00:00" itemprop="dateCreated datePublished" datetime="2021-03-03T00:00:00+08:00">2021-03-03</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2022-09-14 11:18:51" itemprop="dateModified" datetime="2022-09-14T11:18:51+08:00">2022-09-14</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%BF%90%E7%BB%B4/" itemprop="url" rel="index"><span itemprop="name">运维</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h2 id="linux移动光标"><a href="#linux移动光标" class="headerlink" title="linux移动光标"></a>linux移动光标</h2><p>ctrl+a 光标快速移动到行首<br>ctrl+e 同上,行尾<br>ctrl+k 删除至行尾</p>
<p>Esc b 左移一个单词<br>Esc f 右移一个单词</p>
<span id="more"></span>
<h2 id="date"><a href="#date" class="headerlink" title="date"></a>date</h2><p>-d &quot;&quot;:显示字符串所指的日期与时间,字符串用&quot;&quot;<br>-s &quot;&quot;:根据字符串设置日期与时间,字符串用&quot;&quot;<br>+&quot;&quot;:指定显示时使用的日期时间格式</p>
<table>
<thead>
<tr>
<th align="left">Format/result</th>
<th align="left">Command</th>
<th align="left">Output</th>
</tr>
</thead>
<tbody><tr>
<td align="left">YYYY-MM-DD</td>
<td align="left">date -I</td>
<td align="left">2021-03-03</td>
</tr>
<tr>
<td align="left">YYYY-MM-DD_hh:mm:ss</td>
<td align="left">date +%F_%T</td>
<td align="left">2021-03-03_16:30:53</td>
</tr>
<tr>
<td align="left">YYYYMMDD_hhmmss</td>
<td align="left">date +%Y%m%d_%H%M%S</td>
<td align="left">20210303_163105</td>
</tr>
<tr>
<td align="left">YYYYMMDD_hhmmss (UTC version)</td>
<td align="left">date --utc +%Y%m%d_%H%M%SZ</td>
<td align="left">20210303_083117Z</td>
</tr>
<tr>
<td align="left">YYYYMMDD_hhmmss (with local TZ)</td>
<td align="left">date +%Y%m%d_%H%M%S%Z</td>
<td align="left">20210303_163154CST</td>
</tr>
<tr>
<td align="left">YYYYMMSShhmmss</td>
<td align="left">date +%Y%m%d%H%M%S</td>
<td align="left">20210303163206</td>
</tr>
<tr>
<td align="left">YYYYMMSShhmmssnnnnnnnnn</td>
<td align="left">date +%Y%m%d%H%M%S%N</td>
<td align="left">20210303163223716295063</td>
</tr>
<tr>
<td align="left">YYMMDD_hhmmss</td>
<td align="left">date +%y%m%d_%H%M%S</td>
<td align="left">210303_163237</td>
</tr>
<tr>
<td align="left">Seconds since UNIX epoch:</td>
<td align="left">date +%s</td>
<td align="left">1614760369</td>
</tr>
<tr>
<td align="left">Nanoseconds only</td>
<td align="left">date +%N</td>
<td align="left">906852416</td>
</tr>
<tr>
<td align="left">Nanoseconds since UNIX epoch</td>
<td align="left">date +%s%N</td>
<td align="left">1614760398172572808</td>
</tr>
<tr>
<td align="left">ISO8601 UTC timestamp</td>
<td align="left">date --utc +%FT%TZ</td>
<td align="left">2021-03-03T08:33:28Z</td>
</tr>
<tr>
<td align="left">ISO8601 UTC timestamp + ms</td>
<td align="left">date --utc +%FT%T.%3NZ</td>
<td align="left">2021-03-03T08:33:40.047Z</td>
</tr>
<tr>
<td align="left">ISO8601 Local TZ timestamp</td>
<td align="left">date +%FT%T%Z</td>
<td align="left">2021-03-03T16:33:49CST</td>
</tr>
<tr>
<td align="left">YYYY-MM-DD (Short day)</td>
<td align="left">date +%F\(%a\)</td>
<td align="left">2021-03-03(三)</td>
</tr>
<tr>
<td align="left">YYYY-MM-DD (Long day)</td>
<td align="left">date +%F\(%A\)</td>
<td align="left">2021-03-03(星期三)</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##year,month,day,hour,minute,second</span></span><br><span class="line">date -d <span class="string">&quot;1 hour ago&quot;</span> +<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span> <span class="comment">#2021-03-03 15:42:19</span></span><br><span class="line">date -d <span class="string">&quot;1 hour&quot;</span> +<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span> <span class="comment">#2021-03-03 17:42:28,1小时前</span></span><br><span class="line">date +<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span> <span class="comment">#2021-03-03 16:42:38</span></span><br><span class="line">date +<span class="string">&quot;%Y-%m-%d&quot;</span> <span class="comment">#2021-03-03,同date -I,当前年月日</span></span><br><span class="line">date -d <span class="string">&quot;1 day ago&quot;</span> +<span class="string">&quot;%Y-%m-%d&quot;</span> <span class="comment">#2021-03-02,前1天</span></span><br><span class="line">date -d <span class="string">&quot;2 second&quot;</span> +<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span> <span class="comment">#2021-03-03 16:44:00,2秒后</span></span><br><span class="line"><span class="comment">##2009-02-13 23:02:30,传说中的1234567890秒</span></span><br><span class="line">date -d <span class="string">&quot;1970-01-01 1234567890 seconds&quot;</span> +<span class="string">&quot;%Y-%m-%d %H:%m:%S&quot;</span></span><br><span class="line">date -d <span class="string">&quot;2009-12-12&quot;</span> +<span class="string">&quot;%Y/%m/%d %H:%M:%S&quot;</span> <span class="comment">#2009/12/12 00:00:00,格式转换</span></span><br></pre></td></tr></table></figure>

<h3 id="修改系统时间"><a href="#修改系统时间" class="headerlink" title="修改系统时间"></a>修改系统时间</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">date -s 20220614</span><br><span class="line">date -s 2022-06-14</span><br><span class="line">date -s &quot;2022-06-14 13:41:00&quot;</span><br><span class="line"></span><br><span class="line">#修复系统时间</span><br><span class="line">ntpdate -u ntp.api.bz</span><br><span class="line">hwclock -w</span><br></pre></td></tr></table></figure>

<h3 id="centos修改时区"><a href="#centos修改时区" class="headerlink" title="centos修改时区"></a>centos修改时区</h3><p>输入tzselect,输入5,再输入9,再输入1,最后再输入1.</p>
<img src="/images/localtime1.png" style="margin-left: 0px; padding-bottom: 10px;">

<img src="/images/localtime2.png" style="margin-left: 0px; padding-bottom: 10px;">

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">## 删除原来的链接,重新连接正确的时区,输入date验证.</span><br><span class="line">rm -f &#x2F;etc&#x2F;localtime</span><br><span class="line">ln -s &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;Shanghai &#x2F;etc&#x2F;localtime</span><br></pre></td></tr></table></figure>

<h2 id="screen"><a href="#screen" class="headerlink" title="screen"></a>screen</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">screen -S kafka <span class="comment">#-S,新建会话</span></span><br><span class="line">screen -r kafka <span class="comment">#-r,进入已有会话</span></span><br><span class="line">screen -D -r kafka <span class="comment">#显示attached时使用</span></span><br><span class="line">screen -ls</span><br><span class="line">screen -S kafka -X quit <span class="comment">#终止会话</span></span><br><span class="line">ctrl + u <span class="comment">#取消screen中sz操作</span></span><br></pre></td></tr></table></figure>

<h2 id="shutdown"><a href="#shutdown" class="headerlink" title="shutdown"></a>shutdown</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">shutdown -r now <span class="comment">#重启</span></span><br><span class="line">shutdown -h now <span class="comment">#关机</span></span><br></pre></td></tr></table></figure>

<h2 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sort file <span class="comment">#从行首进行依次比较,按升序输出</span></span><br><span class="line">sort -r number.txt -o number.txt <span class="comment">#</span></span><br><span class="line">sort -n -k 2 -r <span class="comment">#</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
<th align="left">example</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-u</td>
<td align="left">输出时删除重复行</td>
<td align="left">sort -u</td>
</tr>
<tr>
<td align="left">-r</td>
<td align="left">输出时降序,默认升序</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">-o</td>
<td align="left">输出到原文件时,解决原文件被清空问题</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">-n</td>
<td align="left">数字按数值排序,避免10比2小的问题</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">-t</td>
<td align="left">指定分隔符</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">-k</td>
<td align="left">指定排序的列数</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">-f</td>
<td align="left">忽略大小写</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">-b</td>
<td align="left">忽略每1行前面的空白部分,从第1个可见字符开始比较</td>
<td align="left"></td>
</tr>
</tbody></table>
<h2 id="jstack"><a href="#jstack" class="headerlink" title="jstack"></a>jstack</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">top</span><br><span class="line">top -Hp 10211</span><br><span class="line">jstack 10211 |grep $(<span class="built_in">printf</span> <span class="string">&quot;%x\n&quot;</span> 10221) -A 30</span><br></pre></td></tr></table></figure>

<h2 id="netstat"><a href="#netstat" class="headerlink" title="netstat"></a>netstat</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">netstat -ano | grep 123 <span class="comment">#查看端口</span></span><br><span class="line">netstat -lnp | grep 123</span><br><span class="line"><span class="comment">#查看访问IP</span></span><br><span class="line">netstat -anp | grep 9092 |awk -F<span class="string">&#x27; &#x27;</span> <span class="string">&#x27;&#123;print $5&#125;&#x27;</span> |awk -F<span class="string">&#x27;:&#x27;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | sort | uniq</span><br></pre></td></tr></table></figure>

<h2 id="hostname"><a href="#hostname" class="headerlink" title="hostname"></a>hostname</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hostname -I | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> <span class="comment">#172.18.250.109</span></span><br><span class="line">hostname -i <span class="comment">#172.18.250.109</span></span><br><span class="line">hostname <span class="comment">#xxx004</span></span><br></pre></td></tr></table></figure>

<h2 id="adduser"><a href="#adduser" class="headerlink" title="adduser"></a>adduser</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adduser hadoop</span><br><span class="line">usermod -a -G hadoop hadoop</span><br></pre></td></tr></table></figure>

<h2 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h2><table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
<th></th>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">yy</td>
<td align="left">复制当前光标所在行</td>
<td></td>
<td align="left">i</td>
<td align="left">当前字符前插入</td>
</tr>
<tr>
<td align="left">4yy</td>
<td align="left">复制当前光标及下4行</td>
<td></td>
<td align="left">a</td>
<td align="left">当前字符后插入</td>
</tr>
<tr>
<td align="left">dd</td>
<td align="left">剪切当前光标所在行</td>
<td></td>
<td align="left">o</td>
<td align="left">当前下一行插入</td>
</tr>
<tr>
<td align="left">4dd</td>
<td align="left">剪切肖前光标及下4行</td>
<td></td>
<td align="left">I</td>
<td align="left">当前行首插入</td>
</tr>
<tr>
<td align="left">p</td>
<td align="left">粘贴</td>
<td></td>
<td align="left">A</td>
<td align="left">当前行尾插入</td>
</tr>
<tr>
<td align="left">D</td>
<td align="left">从当前光标开始剪切,一直到行尾,与d$相同</td>
<td></td>
<td align="left">O</td>
<td align="left">当前上一行插入</td>
</tr>
<tr>
<td align="left">d0</td>
<td align="left">从当前光标前1个字符开始剪切,一直到行首</td>
<td></td>
<td align="left">u</td>
<td align="left">撤销</td>
</tr>
<tr>
<td align="left">dw</td>
<td align="left">删除当前光标所在的单词</td>
<td></td>
<td align="left">R</td>
<td align="left">依次替换当前光标及之后的字符</td>
</tr>
<tr>
<td align="left">x</td>
<td align="left">删除当前光标字符,每次删1个</td>
<td></td>
<td align="left">gg</td>
<td align="left">跳到第一行</td>
</tr>
<tr>
<td align="left">nx</td>
<td align="left">删除当前光标及之后的字符,每次删n个</td>
<td></td>
<td align="left">G</td>
<td align="left">跳到最后一行</td>
</tr>
<tr>
<td align="left">X</td>
<td align="left">删除当前光标前1个字符,每次删1个</td>
<td></td>
<td align="left">20G</td>
<td align="left">快速跳到第20行</td>
</tr>
<tr>
<td align="left">dG</td>
<td align="left">删除当前光标所在行到最后1行</td>
<td></td>
<td align="left">w</td>
<td align="left">向后跳一个单词</td>
</tr>
<tr>
<td align="left">d1G</td>
<td align="left">删除光前光标所在行到最1行</td>
<td></td>
<td align="left">b</td>
<td align="left">向前跳一个单词</td>
</tr>
<tr>
<td align="left">r</td>
<td align="left">替换当前光标字符</td>
<td></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<blockquote>
<p>末行模式</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">:<span class="built_in">set</span> number <span class="comment">#显示行号</span></span><br><span class="line">:%s/abc/123/g <span class="comment">#把abc全部替换成123</span></span><br><span class="line">:1, 10s/abc/123/g <span class="comment">#将第一行至第10行之间的abc替换成123</span></span><br><span class="line">:%s/\r//g <span class="comment">#转义</span></span><br><span class="line">:<span class="built_in">set</span> ff? <span class="comment">#查看文件格式</span></span><br><span class="line">:<span class="built_in">set</span> ff=unix <span class="comment">#</span></span><br></pre></td></tr></table></figure>

<h2 id="if表达式"><a href="#if表达式" class="headerlink" title="if表达式"></a>if表达式</h2><h3 id="整数变量表达式"><a href="#整数变量表达式" class="headerlink" title="整数变量表达式"></a>整数变量表达式</h3><table>
<thead>
<tr>
<th align="left">example</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">[ int1 -eq int2 ]</td>
<td align="left">如果int1等于int2</td>
</tr>
<tr>
<td align="left">[ int1 -ne int2 ]</td>
<td align="left">如果不等于</td>
</tr>
<tr>
<td align="left">[ int1 -ge int2 ]</td>
<td align="left">如果&gt;=</td>
</tr>
<tr>
<td align="left">[ int1 -gt int2 ]</td>
<td align="left">如果&gt;</td>
</tr>
<tr>
<td align="left">[ int1 -le int2 ]</td>
<td align="left">如果&lt;=</td>
</tr>
<tr>
<td align="left">[ int1 -lt int2 ]</td>
<td align="left">如果&lt;</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="字符串变量表达式"><a href="#字符串变量表达式" class="headerlink" title="字符串变量表达式"></a>字符串变量表达式</h3><table>
<thead>
<tr>
<th align="left">example</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">[ $a = $b ]</td>
<td align="left">如果string1等于string2,字符串允许使用赋值号做等号</td>
</tr>
<tr>
<td align="left">[ $string1 != $string2 ]</td>
<td align="left">如果string1不等于string2</td>
</tr>
<tr>
<td align="left">[ -n $string ]</td>
<td align="left">如果string非空(非0),返回0(true)</td>
</tr>
<tr>
<td align="left">[ -z $string ]</td>
<td align="left">如果string为空</td>
</tr>
<tr>
<td align="left">[ $string ]</td>
<td align="left">如果string非空,返回0(和-n类似)</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="文件表达式"><a href="#文件表达式" class="headerlink" title="文件表达式"></a>文件表达式</h3><table>
<thead>
<tr>
<th align="left">example</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">[ -a file ]</td>
<td align="left">如果file存在</td>
</tr>
<tr>
<td align="left">[ -b file ]</td>
<td align="left">如果file存在且是一个块特殊文件</td>
</tr>
<tr>
<td align="left">[ -c file ]</td>
<td align="left">如果file存在且是一个字特殊文件</td>
</tr>
<tr>
<td align="left">[ -d file ]</td>
<td align="left">如果目录存在</td>
</tr>
<tr>
<td align="left">[ -e file ]</td>
<td align="left">如果file存在</td>
</tr>
<tr>
<td align="left">[ -f file ]</td>
<td align="left">如果文件存在</td>
</tr>
<tr>
<td align="left">[ -g file ]</td>
<td align="left">如果file存在且已经设置了SGID</td>
</tr>
<tr>
<td align="left">[ -h file ]</td>
<td align="left">如果file存在且是一个符号连接</td>
</tr>
<tr>
<td align="left">[ -k file ]</td>
<td align="left">如果file存在且已经设置了粘制位</td>
</tr>
<tr>
<td align="left">[ -p file ]</td>
<td align="left">如果file存在且是一个名字管道</td>
</tr>
<tr>
<td align="left">[ -r file ]</td>
<td align="left">如果file存在且是可读的</td>
</tr>
<tr>
<td align="left">[ -s file ]</td>
<td align="left">如果file存在且大小不为0</td>
</tr>
<tr>
<td align="left">[ -t FD ]</td>
<td align="left">如果文件描述符FD打开且指向一个终端</td>
</tr>
<tr>
<td align="left">[ -u file ]</td>
<td align="left">如果file存在且设置了suid</td>
</tr>
<tr>
<td align="left">[ -w file ]</td>
<td align="left">如果file存在且是可写的</td>
</tr>
<tr>
<td align="left">[ -x file ]</td>
<td align="left">如果file存在且是可执行的</td>
</tr>
<tr>
<td align="left">[ -O file ]</td>
<td align="left">如果file存在且属有效用户id</td>
</tr>
<tr>
<td align="left">[ -G file ]</td>
<td align="left">如果file存在且属有效用户组</td>
</tr>
<tr>
<td align="left">[ -L file ]</td>
<td align="left">如果file存在且是一个符号连接</td>
</tr>
<tr>
<td align="left">[ -N file ]</td>
<td align="left">如果file存在且修改</td>
</tr>
<tr>
<td align="left">[ -S file ]</td>
<td align="left">如果file存在且是一个套接字</td>
</tr>
<tr>
<td align="left">[ file1 -nt file2 ]</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">[ file1 -ot file2 ]</td>
<td align="left">如果file1比file2要老/file2存在且file1不存在</td>
</tr>
<tr>
<td align="left">[ file1 -ef file2 ]</td>
<td align="left">如果file1和file2指向相同的设备和节点号</td>
</tr>
<tr>
<td align="left">[ -o OPTIONNAME ]</td>
<td align="left">如果shell选项&quot;optionname&quot;开启</td>
</tr>
<tr>
<td align="left">[ -z STRING ]</td>
<td align="left">string的长度为零</td>
</tr>
</tbody></table>
<h2 id="regex"><a href="#regex" class="headerlink" title="regex"></a>regex</h2><table>
<thead>
<tr>
<th align="left">regex</th>
<th align="left">描述</th>
<th align="left">example</th>
</tr>
</thead>
<tbody><tr>
<td align="left">\</td>
<td align="left">转义符</td>
<td align="left">a\.b匹配a.b,但不能匹配ajb,.被转义为特殊意义</td>
</tr>
<tr>
<td align="left">^</td>
<td align="left">匹配行首,awk中,^则是匹配字符串的开始</td>
<td align="left">^tux匹配以tux开头的行</td>
</tr>
<tr>
<td align="left">$</td>
<td align="left">匹配行尾,awk中,$则是匹配字符串的结尾</td>
<td align="left">tux$匹配以tux结尾的行</td>
</tr>
<tr>
<td align="left">.</td>
<td align="left">匹配除换行符\n之外的任意单个字符</td>
<td align="left">ab.匹配abc/bad,不可匹配abcd/abde,只能匹配单字符</td>
</tr>
<tr>
<td align="left">[]</td>
<td align="left">匹配包含在[字符]之中的任意一个字符</td>
<td align="left">coo[kl]可以匹配cook/cool</td>
</tr>
<tr>
<td align="left">[^]</td>
<td align="left">匹配[^字符]之外的任意一个字符(不匹配字符组内的每个字符)</td>
<td align="left">123[^45]不可以匹配1234/1235,1236/1237都可以</td>
</tr>
<tr>
<td align="left">[-]</td>
<td align="left">匹配[]中指定范围内的任意一个字符,要写成递增</td>
<td align="left">[0-9]可以匹配1/2/3等其中任意一个数字</td>
</tr>
<tr>
<td align="left">?</td>
<td align="left">匹配之前的项0/1次</td>
<td align="left">colou?r可以匹配color/colour,不能匹配colouur</td>
</tr>
<tr>
<td align="left">+</td>
<td align="left">匹配之前的项1/多次</td>
<td align="left">sa-6+匹配sa-6/sa-666,不能匹配sa-</td>
</tr>
<tr>
<td align="left">*</td>
<td align="left">匹配之前的项0/多次</td>
<td align="left">co*l匹配cl/col/cool/coool等</td>
</tr>
<tr>
<td align="left">()</td>
<td align="left">匹配表达式,创建一个用于匹配的子串</td>
<td align="left">ma(tri)?匹配max/maxtrix</td>
</tr>
<tr>
<td align="left">{n}</td>
<td align="left">匹配之前的项n次,n是可以为0的正整数</td>
<td align="left">[0-9]{3}匹配任意一个三位数,可以扩展为[0-9][0-9][0-9]</td>
</tr>
<tr>
<td align="left">{n,}</td>
<td align="left">之前的项至少需要匹配n次</td>
<td align="left">[0-9]{2,}匹配任意一个两位数/更多位数</td>
</tr>
<tr>
<td align="left">{n,m}</td>
<td align="left">指定之前的项至少匹配n次,最多匹配m次,n&lt;=m</td>
<td align="left">[0-9]{2,5}匹配从两位数到五位数之间的任意一个数字</td>
</tr>
<tr>
<td align="left">|</td>
<td align="left">交替匹配|两边的任意一项</td>
<td align="left">ab(c|d)匹配abc/abd</td>
</tr>
</tbody></table>
<h3 id="example"><a href="#example" class="headerlink" title="example"></a>example</h3><table>
<thead>
<tr>
<th align="left">regex</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">.*</td>
<td align="left">所有字符</td>
</tr>
<tr>
<td align="left">^[^]</td>
<td align="left">非字符组内的字符开头的行</td>
</tr>
<tr>
<td align="left">[a-z]</td>
<td align="left">小写字母</td>
</tr>
<tr>
<td align="left">[A-Z]</td>
<td align="left">大写字母</td>
</tr>
<tr>
<td align="left">[a-Z]</td>
<td align="left">小写和大写字母</td>
</tr>
<tr>
<td align="left">[0-9]</td>
<td align="left">数字</td>
</tr>
<tr>
<td align="left">\&lt;</td>
<td align="left">单词头,单词一般以空格/特殊字符做分隔,连续的字符串被当做单词</td>
</tr>
<tr>
<td align="left">\&gt;</td>
<td align="left">单词尾</td>
</tr>
</tbody></table>
<h3 id="普通字符"><a href="#普通字符" class="headerlink" title="普通字符"></a>普通字符</h3><p>字母/数字/下划线</p>
<h3 id="转义字符"><a href="#转义字符" class="headerlink" title="转义字符"></a>转义字符</h3><table>
<thead>
<tr>
<th align="left">regex</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">\r,\n</td>
<td align="left">回车和换行符</td>
</tr>
<tr>
<td align="left">\t</td>
<td align="left">制表符</td>
</tr>
<tr>
<td align="left">\|</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">\^</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">\$</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">\.</td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="多种字符"><a href="#多种字符" class="headerlink" title="多种字符"></a>多种字符</h3><table>
<thead>
<tr>
<th align="left">regex</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">\d</td>
<td align="left">0~9中任意一个数字</td>
</tr>
<tr>
<td align="left">\w</td>
<td align="left">任意一个字母/数字/下划线,A~Z,a~z,0~9,_中任意一个</td>
</tr>
<tr>
<td align="left">\s</td>
<td align="left">包括空格/制表符/换页符等空白字符的其中任意一个</td>
</tr>
<tr>
<td align="left">\S</td>
<td align="left">匹配所有非空白字符</td>
</tr>
<tr>
<td align="left">\D</td>
<td align="left">匹配所有非数字字符</td>
</tr>
<tr>
<td align="left">\W</td>
<td align="left">匹配所有的字母/数字/下划线以外的字符</td>
</tr>
<tr>
<td align="left">.</td>
<td align="left">小数点可以匹配除了换行符(\n)以外的任意一个字符</td>
</tr>
<tr>
<td align="left">?</td>
<td align="left">至多一次,相当于{0,1}</td>
</tr>
<tr>
<td align="left">+</td>
<td align="left">至少一次,相当于{1,}</td>
</tr>
<tr>
<td align="left">*</td>
<td align="left">0次/以上,相当于{0,}</td>
</tr>
<tr>
<td align="left">+?,??,*?</td>
<td align="left">非贪婪模式</td>
</tr>
</tbody></table>
<h2 id="uname"><a href="#uname" class="headerlink" title="uname"></a>uname</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">uname -r <span class="comment">#内核版本,3.10.0-862.el7.x86_64</span></span><br><span class="line">cat /etc/redhat-release <span class="comment">#CentOS release 6.5 (Final)</span></span><br><span class="line">getconf LONG_BIT <span class="comment">#查看CPU核数,64</span></span><br><span class="line">grep <span class="string">&quot;CPU&quot;</span> /proc/cpuinfo <span class="comment">#查看CPU</span></span><br></pre></td></tr></table></figure>

<h2 id="linus-http内核优化"><a href="#linus-http内核优化" class="headerlink" title="linus http内核优化"></a>linus http内核优化</h2><p><code>sysctl -p</code>执行生效.<br><code>vim /etc/sysctl.conf</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">net.ipv4.tcp_syncookies = 1</span><br><span class="line">net.ipv4.tcp_tw_recycle = 1</span><br><span class="line">net.ipv4.tcp_tw_reuse = 1</span><br><span class="line">net.ipv4.tcp_fin_timeout = 10</span><br><span class="line">net.ipv4.tcp_timestamps = 1</span><br></pre></td></tr></table></figure>


    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/linux/" rel="tag"># linux</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/03/02/hive_hbase%E9%9B%86%E6%88%90/" rel="prev" title="hive_hbase集成">
                  <i class="fa fa-chevron-left"></i> hive_hbase集成
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/03/03/shell%E5%91%BD%E4%BB%A4-3%E5%89%91%E5%AE%A2/" rel="next" title="shell-3剑客">
                  shell-3剑客 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>







<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">maoeryu</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>

  






  





</body>
</html>
